<!DOCTYPE html>
<html>
<link rel="stylesheet" href="style.css">
<head>
  <title>View Sign Ups</title>
</head>
<body>

<h1>Club Sign Ups</h1>

<select id="filterClub">
  <option value="ALL">ALL</option>
  <option value="Science">Science</option>
  <option value="Arts">Arts</option>
  <option value="Sports">Sports</option>
</select>

<p id="total"></p>
<p id="message"></p>

<table border="1">
  <thead>
    <tr>
      <th>Name</th>
      <th>Club</th>
    </tr>
  </thead>
  <tbody id="tableBody"></tbody>
</table>

<a href="signups.html">Back to Sign Up</a>

<script>
document.addEventListener("DOMContentLoaded", function () {

  const filterClub = document.getElementById("filterClub");
  const tableBody = document.getElementById("tableBody");
  const total = document.getElementById("total");
  const message = document.getElementById("message");

  let signUps = JSON.parse(localStorage.getItem("signUps")) || [];

  function displaySignUps(selectedClub) {
    tableBody.innerHTML = "";
    message.textContent = "";
    total.textContent = "";

    if (signUps.length === 0) {
      message.textContent = "No sign ups saved";
      return;
    }

    let filtered = signUps;

    if (selectedClub !== "ALL") {
      filtered = signUps.filter(function (item) {
        return item.club === selectedClub;
      });
    }

    if (filtered.length === 0) {
      message.textContent = "No sign ups for this club";
      total.textContent = "Total Sign Ups: 0";
      return;
    }

    filtered.forEach(function (item) {
      const row = document.createElement("tr");

      const nameCell = document.createElement("td");
      nameCell.textContent = item.name;

      const clubCell = document.createElement("td");
      clubCell.textContent = item.club;

      row.appendChild(nameCell);
      row.appendChild(clubCell);
      tableBody.appendChild(row);
    });

    total.textContent = "Total Sign Ups: " + filtered.length;
  }

  filterClub.addEventListener("change", function () {
    displaySignUps(this.value);
  });

  displaySignUps("ALL");

});
</script>

</body>
</html>
